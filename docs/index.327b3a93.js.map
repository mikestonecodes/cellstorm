{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6f04816eb5e37d2e.js","bootstrap.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js","node_modules/@parcel/runtime-js/lib/runtime-d41bb1ba97e5a180.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_spread.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6VGhN\\\":\\\"index.327b3a93.js\\\",\\\"49JnA\\\":\\\"world.c26a302c.js\\\"}\"));","const canvas = document.querySelector('#renderer');\nconst offscreenCanvas = canvas.transferControlToOffscreen();\n\nconst worker = new Worker(\n    new URL('src/world/index.js', import.meta.url),\n    { type: 'module' }\n);\n\nconst numparticles = 5000;\n\nworker.postMessage({ msg: 'offscreen', canvas: offscreenCanvas , numparticles }, [offscreenCanvas]);\n\n\nconst images =  [\n\n    {\n\n        wa: 11,\n        data: new Uint8Array([\n            0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1,\n            0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1,\n            1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1,\n            1, 0, 2, 0, 0, 2, 0, 1, 0, 1, 1,\n            1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1,\n            1, 0, 3, 3, 3, 3, 0, 1, 0, 1, 1,\n            0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1,\n            0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1,\n            0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0,\n            0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1,\n            0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1,\n            1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1,\n            1, 0, 2, 0, 0, 2, 0, 1, 0, 1, 1,\n            1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1,\n            1, 0, 3, 3, 3, 3, 0, 1, 0, 1, 1,\n            0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1,\n            0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1,\n            0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0\n        ])\n\n    },\n    {\n\n        wa: 8,\n        data: new Uint8Array([\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5,\n            5, 5, 5, 5, 5, 5, 5, 5\n        ])\n\n    }];\n\n    for (let i = 0; i < 20000; i++) {\n        images.push({\n            wa: 32,\n            data: new Uint8Array(32 * 32).fill(0).map(() => Math.floor(Math.random() * 7))\n        })\n    }\n\nworker.postMessage({ msg: 'uploadTexture', images});\n\nconst data = new Float32Array([...Array(numparticles).keys()] );\n\nworker.postMessage({ msg: 'updateBuffer', key:\"ivid\",data});\n\nfunction resize() {\n    worker.postMessage({ msg: 'resize', width:window.innerWidth,height:window.innerHeight });\n}\n\nresize()\nwindow.addEventListener('resize', resize, false)","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};","let workerURL = require('./helpers/get-worker-url');\nlet bundleURL = require('./helpers/bundle-url');\nlet url = bundleURL.getBundleURL('6VGhN') + require('./helpers/bundle-manifest').resolve(\"49JnA\");module.exports = workerURL(url, bundleURL.getOrigin(url), false);","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$export$5a759dc7a1cfb72a","$b5f9ee66ee3e33fa$var$offscreenCanvas","document","querySelector","transferControlToOffscreen","$902f5cabe5153acc$exports","workerUrl","origin","isESM","self","location","source","stringify","URL","createObjectURL","Blob","type","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$6b53e21b27c054aa$var$url","resolve","$6b53e21b27c054aa$exports","$b5f9ee66ee3e33fa$var$worker","Worker","postMessage","msg","canvas","numparticles","$b5f9ee66ee3e33fa$var$images","wa","data","Uint8Array","push","fill","map","Math","floor","random","images","arr","$b5f9ee66ee3e33fa$var$data","Float32Array","Array","isArray","arr2","$c0e5c3a46846db0d$export$2e2bcd8739ae039","iter","Symbol","iterator","prototype","toString","call","from","$8664303016091545$export$2e2bcd8739ae039","TypeError","$9a10eb5a4ae3d243$export$2e2bcd8739ae039","$b5f9ee66ee3e33fa$var$resize","width","window","innerWidth","height","innerHeight","key","addEventListener"],"version":3,"file":"index.327b3a93.js.map"}